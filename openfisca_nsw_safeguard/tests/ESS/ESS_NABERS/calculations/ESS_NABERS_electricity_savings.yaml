- name: test ESS NABERS annual electricity savings calculation
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_NABERS_electricity: 1
    ESS__NABERS_onsite_unaccounted_electricity: 1
    ESS__NABERS_benchmark_elec_consumption: 50
    ESS__NABERS_type_of_creation: annual_creation
  output:
    ESS__NABERS_electricity_savings: 48

- name: test ESS NABERS annual electricity savings calculation
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_NABERS_electricity: 1
    ESS__NABERS_onsite_unaccounted_electricity: 1
    ESS__NABERS_benchmark_elec_consumption: 50
    ESS__NABERS_type_of_creation: forward_creation
  output:
    ESS__NABERS_electricity_savings: 144

- name: test ESS NABERS eligibility - NABERS UAT test cases 11.15 - eligibility within method 1
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__postcode:
      [
        2000,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_rating_obtained_for_legal_requirements:
      [
        False,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        6.0,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_building_date:
      [
        built_after_nov_2006,
      ]
    ESS__NABERS_first_NABERS_rating:
      [
        True,
      ]
    ESS__NABERS_NABERS_electricity:
      [
        300.0,
      ]
    ESS__NABERS_NABERS_gas:
      [
        33.33,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
        0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
        663.415,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
        73.7128,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_one:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_within_12_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_electricity_savings:
      [
        363.41498,
      ]
    ESS__NABERS_gas_savings:
      [
        40.3827,
      ]
    ESS__number_of_ESCs:
      [
        400,
      ]

- name: test ESS NABERS eligibility - NABERS UAT test cases 11.19 - eligibility within method 1
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__postcode:
      [
        2000,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_rating_obtained_for_legal_requirements:
      [
        False,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        6.0,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_building_date:
      [
        built_after_nov_2006,
      ]
    ESS__NABERS_first_NABERS_rating:
      [
        True,
      ]
    ESS__NABERS_NABERS_electricity:
      [
        300.0,
      ]
    ESS__NABERS_NABERS_gas:
      [
        33.3333,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
        0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
        897.810,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
        99.7567,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_one:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_electricity_savings:
      [
        597.81,
      ]
    ESS__NABERS_gas_savings:
      [
        66.4234,
      ]
    ESS__number_of_ESCs:
      [
        659,
      ]

- name: test ESS NABERS ESC creation - NABERS UAT test cases 12.3 - ESC creation within method 2
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2023-06-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        2.5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
    ESS__NABERS_type_of_creation:
      [
        annual_creation,
      ]
    ESS__NABERS_historical_rating_previously_used_to_set_baseline:
      [
        False,
      ]
    ESS__NABERS_NABERS_electricity:
      [
       2533.176,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
       0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
       2800.505,
      ]
    ESS__NABERS_NABERS_gas:
      [
       253.3175,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
       280.0503,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_less_than_7_years_after_historical_rating_date:
      [
        True,
      ]
    ESS__NABERS_forward_creation_within_15_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible_for_method_one:
      [
        False,
      ]
    ESS__NABERS_is_eligible_for_forward_creation:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_within_12_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_annual_electricity_savings:
      [
       267.32886,
      ]
    ESS__NABERS_annual_gas_savings:
      [
       26.732788,
      ]
    ESS__number_of_ESCs:
      [
       293,
      ]

- name: test ESS NABERS ESC creation - NABERS UAT test cases 12.9 - ESC creation within method 2
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2023-06-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        2.5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
    ESS__NABERS_type_of_creation:
      [
        annual_creation,
      ]
    ESS__NABERS_historical_rating_previously_used_to_set_baseline:
      [
        False,
      ]
    ESS__NABERS_NABERS_electricity:
      [
       2058.391,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
       0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
       2274.033,
      ]
    ESS__NABERS_NABERS_gas:
      [
       205.8389,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
       227.4033,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_less_than_7_years_after_historical_rating_date:
      [
        True,
      ]
    ESS__NABERS_forward_creation_within_15_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible_for_method_one:
      [
        False,
      ]
    ESS__NABERS_is_eligible_for_forward_creation:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_within_12_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_annual_electricity_savings:
      [
       215.64185,
      ]
    ESS__NABERS_annual_gas_savings:
      [
       21.5644,
      ]
    ESS__number_of_ESCs:
      [
       236,
      ]

- name: test ESS NABERS ESC creation - NABERS UAT test cases 12.18 - ESC creation within method 2
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2023-06-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        2.5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
    ESS__NABERS_type_of_creation:
      [
        forward_creation,
      ]
    ESS__NABERS_historical_rating_previously_used_to_set_baseline:
      [
        False,
      ]
    ESS__NABERS_NABERS_electricity:
      [
       2533.176,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
       0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
       2800.505,
      ]
    ESS__NABERS_NABERS_gas:
      [
       253.3175,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
       280.0503,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_less_than_7_years_after_historical_rating_date:
      [
        True,
      ]
    ESS__NABERS_forward_creation_within_15_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible_for_method_one:
      [
        False,
      ]
    ESS__NABERS_is_eligible_for_forward_creation:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_within_12_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_forward_electricity_savings:
      [
       801.9866,
      ]
    ESS__NABERS_forward_gas_savings:
      [
       80.19833,
      ]
    ESS__number_of_ESCs:
      [
       881,
      ]

- name: test ESS NABERS ESC creation - NABERS UAT test cases 12.21 - ESC creation within method 2
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2023-06-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        2.5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
    ESS__NABERS_type_of_creation:
      [
        forward_creation,
      ]
    ESS__NABERS_historical_rating_previously_used_to_set_baseline:
      [
        False,
      ]
    ESS__NABERS_NABERS_electricity:
      [
       4576.581,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
       0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
       5057.920,
      ]
    ESS__NABERS_NABERS_gas:
      [
       457.6581,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
       505.7919,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_less_than_7_years_after_historical_rating_date:
      [
        True,
      ]
    ESS__NABERS_forward_creation_within_15_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible_for_method_one:
      [
        False,
      ]
    ESS__NABERS_is_eligible_for_forward_creation:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_within_12_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_forward_electricity_savings:
      [
       1444.017,
      ]
    ESS__NABERS_forward_gas_savings:
      [
       144.4017,
      ]
    ESS__number_of_ESCs:
      [
       1586,
      ]

- name: test ESS NABERS ESC creation - NABERS UAT test cases 12.23 - ESC creation within method 2
  period: 2024-01-01
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2024-01-01,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2023-06-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        2.5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
    ESS__NABERS_type_of_creation:
      [
        forward_creation,
      ]
    ESS__NABERS_historical_rating_previously_used_to_set_baseline:
      [
        False,
      ]
    ESS__NABERS_NABERS_electricity:
      [
       2115.325,
      ]
    ESS__NABERS_onsite_unaccounted_electricity:
      [
       0,
      ]
    ESS__NABERS_benchmark_elec_consumption:
      [
       2336.932,
      ]
    ESS__NABERS_NABERS_gas:
      [
       0,
      ]
    ESS__NABERS_benchmark_gas_consumption:
      [
       0,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_less_than_7_years_after_historical_rating_date:
      [
        True,
      ]
    ESS__NABERS_forward_creation_within_15_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible_for_method_one:
      [
        False,
      ]
    ESS__NABERS_is_eligible_for_forward_creation:
      [
        True,
      ]
    ESS__NABERS_ESC_creation_within_12_months:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
      ]
    ESS__NABERS_forward_electricity_savings:
      [
       664.8208,
      ]
    ESS__NABERS_forward_gas_savings:
      [
       0,
      ]
    ESS__number_of_ESCs:
      [
       704,
      ]
