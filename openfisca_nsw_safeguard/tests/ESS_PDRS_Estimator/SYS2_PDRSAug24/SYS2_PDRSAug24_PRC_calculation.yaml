- name: test SYS2 input power
  period: 2024
  absolute_error_margin: 0.1
  input: 
    SYS2_PDRSAug24_projected_annual_energy_consumption:
      [
        0,
        10,
        50,
        600,
        400,
        657,
        789,
        2000
      ]
    SYS2_PDRSAug24_daily_run_time:
      [
        6,
        8,
        4,
        6,
        7,
        9,
        2,
        2
      ]
  output:
    SYS2_PDRSAug24_input_power:
      [
        0,
        0.003,
        0.034,
        0.274,
        0.157,
        0.2,
        1.081,
        2.74
      ]

- name: test SYS2 baseline input power
  period: 2024
  absolute_error_margin: 0
  input:
    SYS2_PDRSAug24_nameplate_input_power:
      [
        900,
        1400,
        2000,
        3500
      ]
  output:
    SYS2_PDRSAug24_baseline_input_power:
      [
        0.8,
        1.2,
        1.2,
        1.2
      ]

- name: test SYS2 peak demand annual savings
  period: 2024
  absolute_error_margin: 0.3
  input: 
    SYS2_PDRSAug24_projected_annual_energy_consumption:
      [
        0,
        10,
        50,
        600,
        400,
        657,
        789,
        2000
      ]
    SYS2_PDRSAug24_daily_run_time:
      [
        6,
        8,
        4,
        6,
        7,
        9,
        2,
        2
      ]
    SYS2_PDRSAug24_nameplate_input_power:
      [
        0,
        1000,
        1567,
        1001,
        2000,
        2001,
        1999,
        1350
      ]
  output:
    SYS2_PDRSAug24_peak_demand_annual_savings:
      [
        19.68,
        19.6,
        28.68,
        22.78,
        25.67,
        24.6,
        2.93,
        0
      ]

- name: test SYS2 peak demand savings capacity
  period: 2024
  absolute_error_margin: 0.5
  input: 
    SYS2_PDRSAug24_baseline_input_power:
      [
        0.370,
        0.256
      ]
    SYS2_PDRSAug24_input_power:
      [
        0.121,
        0.084
      ]
  output:
    SYS2_PDRSAug24_peak_demand_savings_capacity:
      [
        0.0697,
        0.048
      ]

# - name: test SYS2 peak demand reduction capacity
#   period: 2022
#   absolute_error_margin: 0.1
#   input:
#     SYS2_PDRSAug24_peak_demand_savings_capacity:
#       [
#         600,
#         200,
#         0.048
#       ]
#   output:
#     SYS2_PDRSAug24_peak_demand_reduction_capacity:
#       [
#         43200,
#         14400,
#         3.47
#       ]

# - name: test SYS2 peak demand annual savings
#   period: 2024
#   absolute_error_margin: 0.1
#   input:
#     SYS2_PDRSAug24_pool_size:
#       [
#         pool_under_20000_L,
#         pool_50001_to_60000_L
#       ]
#     SYS2_PDRSAug24_pool_pump_type:
#       [
#         variable_speed_pool_pump,
#         single_speed_pool_pump
#       ]
#     SYS2_PDRSAug24_star_rating:
#       [
#         six_stars,
#         five_stars
#       ]
#   output:
#     SYS2_PDRSAug24_peak_demand_annual_savings:
#       [
#         2.84256,
#         4.49568
#       ]

# - name: test SYS2 peak demand annual savings master tester
#   period: 2024
#   absolute_error_margin: 0.1
#   input:
#     SYS2_PDRSAug24_pool_size:
#       [
#         pool_50001_to_60000_L,  #Neptune NPVS150
#         over_70001_L,           #Zodiac WP000024 (FLOPRO VS 1.5HP)
#         pool_30001_to_40000_L   #Aquatight Apex VS100
#       ]
#     SYS2_PDRSAug24_pool_pump_type:
#       [
#         variable_speed_pool_pump,
#         variable_speed_pool_pump,
#         variable_speed_pool_pump
#       ]
#     SYS2_PDRSAug24_star_rating:
#       [
#         four_and_a_half_stars,
#         six_stars,
#         five_stars
#       ]
#   output:
#     SYS2_PDRSAug24_peak_demand_annual_savings:
#       [
#         7.19712,
#         11.65,
#         4.61664
#       ]

# - name: test SYS2 PRC calculation
#   period: 2022
#   absolute_error_margin: 0.5
#   input:
#     SYS2_PDRSAug24_peak_demand_reduction_capacity:
#       [
#         120,
#         3.47 
#       ]
#     SYS2_PDRSAug24_get_network_loss_factor_by_postcode:
#       [
#         1.05,
#         1.05  #Essential
#       ]
#   output:
#     SYS2_PDRSAug24_PRC_calculation:
#       [
#         1260,
#         36
#       ]

# - name: test SYS2 PRC not eligible on new installation
#   period: 2022
#   absolute_error_margin: 0.1
#   input: 
#     SYS2_PDRSAug24_peak_demand_reduction_capacity:
#       [
#         120,
#         120
#       ]
#     SYS2_PDRSAug24_get_network_loss_factor_by_postcode:
#       [
#         1.05,
#         1.05
#       ]
#     SYS2_PDRSAug24_replacement_activity:
#       [
#         False, #activity is a new installation
#         True   #activity is a replacement
#       ]
#   output:
#     SYS2_PDRSAug24_PRC_calculation:
#       [
#         0,
#         1260
#       ]

# - name: test SYS2 PRC certificate
#   period: 2022
#   absolute_error_margin: 0.1
#   input: 
#     SYS2_PDRSAug24_PDRS__postcode:
#       [
#         2017
#       ]
#     SYS2_PDRSAug24_pool_pump_type:
#       [
#         multiple_speed_pool_pump
#       ]
#     SYS2_PDRSAug24_pool_size:
#       [
#         pool_under_20000_L
#       ]
#     SYS2_PDRSAug24_replacement_activity:
#       [
#         true
#       ]
#     SYS2_PDRSAug24_star_rating:
#       [
#         four_and_a_half_stars
#       ]
#   output:
#     SYS2_PDRSAug24_PRC_calculation:
#       [
#         24.32
#       ]